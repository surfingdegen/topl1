{"ast":null,"code":"import { TransactionReceiptRevertedError } from '../../errors/transaction.js';\nimport { formatTransactionReceipt } from '../../utils/formatters/transactionReceipt.js';\nimport { numberToHex } from '../../utils/index.js';\n/**\n * Sends a **signed** transaction to the network synchronously,\n * and waits for the transaction to be included in a block.\n *\n * - Docs: https://viem.sh/docs/actions/wallet/sendRawTransactionSync\n * - JSON-RPC Method: [`eth_sendRawTransactionSync`](https://eips.ethereum.org/EIPS/eip-7966)\n *\n * @param client - Client to use\n * @param parameters - {@link SendRawTransactionParameters}\n * @returns The transaction receipt. {@link SendRawTransactionSyncReturnType}\n *\n * @example\n * import { createWalletClient, custom } from 'viem'\n * import { mainnet } from 'viem/chains'\n * import { sendRawTransactionSync } from 'viem/wallet'\n *\n * const client = createWalletClient({\n *   chain: mainnet,\n *   transport: custom(window.ethereum),\n * })\n *\n * const receipt = await sendRawTransactionSync(client, {\n *   serializedTransaction: '0x02f850018203118080825208808080c080a04012522854168b27e5dc3d5839bab5e6b39e1a0ffd343901ce1622e3d64b48f1a04e00902ae0502c4728cbf12156290df99c3ed7de85b1dbfe20b5c36931733a33'\n * })\n */\nexport async function sendRawTransactionSync(client, _ref) {\n  var _client$chain;\n  let {\n    serializedTransaction,\n    throwOnReceiptRevert,\n    timeout\n  } = _ref;\n  const receipt = await client.request({\n    method: 'eth_sendRawTransactionSync',\n    params: timeout ? [serializedTransaction, numberToHex(timeout)] : [serializedTransaction]\n  }, {\n    retryCount: 0\n  });\n  const format = ((_client$chain = client.chain) === null || _client$chain === void 0 || (_client$chain = _client$chain.formatters) === null || _client$chain === void 0 || (_client$chain = _client$chain.transactionReceipt) === null || _client$chain === void 0 ? void 0 : _client$chain.format) || formatTransactionReceipt;\n  const formatted = format(receipt);\n  if (formatted.status === 'reverted' && throwOnReceiptRevert) throw new TransactionReceiptRevertedError({\n    receipt: formatted\n  });\n  return formatted;\n}","map":{"version":3,"names":["TransactionReceiptRevertedError","formatTransactionReceipt","numberToHex","sendRawTransactionSync","client","_ref","_client$chain","serializedTransaction","throwOnReceiptRevert","timeout","receipt","request","method","params","retryCount","format","chain","formatters","transactionReceipt","formatted","status"],"sources":["/Users/mac/Desktop/topl1/frontend/node_modules/viem/actions/wallet/sendRawTransactionSync.ts"],"sourcesContent":["import type { Client } from '../../clients/createClient.js'\nimport type { Transport } from '../../clients/transports/createTransport.js'\nimport { TransactionReceiptRevertedError } from '../../errors/transaction.js'\nimport type { ErrorType } from '../../errors/utils.js'\nimport type { Chain } from '../../types/chain.js'\nimport type { TransactionSerializedGeneric } from '../../types/transaction.js'\nimport type { RequestErrorType } from '../../utils/buildRequest.js'\nimport { formatTransactionReceipt } from '../../utils/formatters/transactionReceipt.js'\nimport {\n  type FormattedTransactionReceipt,\n  numberToHex,\n} from '../../utils/index.js'\n\nexport type SendRawTransactionSyncParameters = {\n  /** The signed serialized transaction. */\n  serializedTransaction: TransactionSerializedGeneric\n  /** Whether to throw an error if the transaction was detected as reverted. @default true */\n  throwOnReceiptRevert?: boolean | undefined\n  /** The timeout for the transaction. */\n  timeout?: number | undefined\n}\n\nexport type SendRawTransactionSyncReturnType<\n  chain extends Chain | undefined = undefined,\n> = FormattedTransactionReceipt<chain>\n\nexport type SendRawTransactionSyncErrorType = RequestErrorType | ErrorType\n\n/**\n * Sends a **signed** transaction to the network synchronously,\n * and waits for the transaction to be included in a block.\n *\n * - Docs: https://viem.sh/docs/actions/wallet/sendRawTransactionSync\n * - JSON-RPC Method: [`eth_sendRawTransactionSync`](https://eips.ethereum.org/EIPS/eip-7966)\n *\n * @param client - Client to use\n * @param parameters - {@link SendRawTransactionParameters}\n * @returns The transaction receipt. {@link SendRawTransactionSyncReturnType}\n *\n * @example\n * import { createWalletClient, custom } from 'viem'\n * import { mainnet } from 'viem/chains'\n * import { sendRawTransactionSync } from 'viem/wallet'\n *\n * const client = createWalletClient({\n *   chain: mainnet,\n *   transport: custom(window.ethereum),\n * })\n *\n * const receipt = await sendRawTransactionSync(client, {\n *   serializedTransaction: '0x02f850018203118080825208808080c080a04012522854168b27e5dc3d5839bab5e6b39e1a0ffd343901ce1622e3d64b48f1a04e00902ae0502c4728cbf12156290df99c3ed7de85b1dbfe20b5c36931733a33'\n * })\n */\nexport async function sendRawTransactionSync<chain extends Chain | undefined>(\n  client: Client<Transport, chain>,\n  {\n    serializedTransaction,\n    throwOnReceiptRevert,\n    timeout,\n  }: SendRawTransactionSyncParameters,\n): Promise<SendRawTransactionSyncReturnType<chain>> {\n  const receipt = await client.request(\n    {\n      method: 'eth_sendRawTransactionSync',\n      params: timeout\n        ? [serializedTransaction, numberToHex(timeout)]\n        : [serializedTransaction],\n    },\n    { retryCount: 0 },\n  )\n  const format =\n    client.chain?.formatters?.transactionReceipt?.format ||\n    formatTransactionReceipt\n\n  const formatted = format(receipt) as SendRawTransactionSyncReturnType<chain>\n  if (formatted.status === 'reverted' && throwOnReceiptRevert)\n    throw new TransactionReceiptRevertedError({ receipt: formatted })\n  return formatted\n}\n"],"mappings":"AAEA,SAASA,+BAA+B,QAAQ,6BAA6B;AAK7E,SAASC,wBAAwB,QAAQ,8CAA8C;AACvF,SAEEC,WAAW,QACN,sBAAsB;AAiB7B;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAO,eAAeC,sBAAsBA,CAC1CC,MAAgC,EAAAC,IAAA,EAKG;EAAA,IAAAC,aAAA;EAAA,IAJnC;IACEC,qBAAqB;IACrBC,oBAAoB;IACpBC;EAAO,CAC0B,GAAAJ,IAAA;EAEnC,MAAMK,OAAO,GAAG,MAAMN,MAAM,CAACO,OAAO,CAClC;IACEC,MAAM,EAAE,4BAA4B;IACpCC,MAAM,EAAEJ,OAAO,GACX,CAACF,qBAAqB,EAAEL,WAAW,CAACO,OAAO,CAAC,CAAC,GAC7C,CAACF,qBAAqB;GAC3B,EACD;IAAEO,UAAU,EAAE;EAAC,CAAE,CAClB;EACD,MAAMC,MAAM,GACV,EAAAT,aAAA,GAAAF,MAAM,CAACY,KAAK,cAAAV,aAAA,gBAAAA,aAAA,GAAZA,aAAA,CAAcW,UAAU,cAAAX,aAAA,gBAAAA,aAAA,GAAxBA,aAAA,CAA0BY,kBAAkB,cAAAZ,aAAA,uBAA5CA,aAAA,CAA8CS,MAAM,KACpDd,wBAAwB;EAE1B,MAAMkB,SAAS,GAAGJ,MAAM,CAACL,OAAO,CAA4C;EAC5E,IAAIS,SAAS,CAACC,MAAM,KAAK,UAAU,IAAIZ,oBAAoB,EACzD,MAAM,IAAIR,+BAA+B,CAAC;IAAEU,OAAO,EAAES;EAAS,CAAE,CAAC;EACnE,OAAOA,SAAS;AAClB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}