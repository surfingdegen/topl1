{"ast":null,"code":"import { getVersion } from './internal/errors.js';\n/**\n * Base error class inherited by all errors thrown by ox.\n *\n * @example\n * ```ts\n * import { Errors } from 'ox'\n * throw new Errors.BaseError('An error occurred')\n * ```\n */\nexport class BaseError extends Error {\n  static setStaticOptions(options) {\n    BaseError.prototype.docsOrigin = options.docsOrigin;\n    BaseError.prototype.showVersion = options.showVersion;\n    BaseError.prototype.version = options.version;\n  }\n  constructor(shortMessage, options = {}) {\n    const details = (() => {\n      if (options.cause instanceof BaseError) {\n        if (options.cause.details) return options.cause.details;\n        if (options.cause.shortMessage) return options.cause.shortMessage;\n      }\n      if (options.cause && 'details' in options.cause && typeof options.cause.details === 'string') return options.cause.details;\n      if (options.cause?.message) return options.cause.message;\n      return options.details;\n    })();\n    const docsPath = (() => {\n      if (options.cause instanceof BaseError) return options.cause.docsPath || options.docsPath;\n      return options.docsPath;\n    })();\n    const docsBaseUrl = options.docsOrigin ?? BaseError.prototype.docsOrigin;\n    const docs = `${docsBaseUrl}${docsPath ?? ''}`;\n    const showVersion = Boolean(options.version ?? BaseError.prototype.showVersion);\n    const version = options.version ?? BaseError.prototype.version;\n    const message = [shortMessage || 'An error occurred.', ...(options.metaMessages ? ['', ...options.metaMessages] : []), ...(details || docsPath || showVersion ? ['', details ? `Details: ${details}` : undefined, docsPath ? `See: ${docs}` : undefined, showVersion ? `Version: ${version}` : undefined] : [])].filter(x => typeof x === 'string').join('\\n');\n    super(message, options.cause ? {\n      cause: options.cause\n    } : undefined);\n    Object.defineProperty(this, \"details\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"docs\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"docsOrigin\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"docsPath\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"shortMessage\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"showVersion\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"version\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"cause\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'BaseError'\n    });\n    this.cause = options.cause;\n    this.details = details;\n    this.docs = docs;\n    this.docsOrigin = docsBaseUrl;\n    this.docsPath = docsPath;\n    this.shortMessage = shortMessage;\n    this.showVersion = showVersion;\n    this.version = version;\n  }\n  walk(fn) {\n    return walk(this, fn);\n  }\n}\nObject.defineProperty(BaseError, \"defaultStaticOptions\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: {\n    docsOrigin: 'https://oxlib.sh',\n    showVersion: false,\n    version: `ox@${getVersion()}`\n  }\n});\n(() => {\n  BaseError.setStaticOptions(BaseError.defaultStaticOptions);\n})();\n/** @internal */\nfunction walk(err, fn) {\n  if (fn?.(err)) return err;\n  if (err && typeof err === 'object' && 'cause' in err && err.cause) return walk(err.cause, fn);\n  return fn ? null : err;\n}","map":{"version":3,"names":["getVersion","BaseError","Error","setStaticOptions","options","prototype","docsOrigin","showVersion","version","constructor","shortMessage","details","cause","message","docsPath","docsBaseUrl","docs","Boolean","metaMessages","undefined","filter","x","join","Object","defineProperty","walk","fn","defaultStaticOptions","err"],"sources":["/Users/mac/Desktop/topl1/frontend/node_modules/ox/core/Errors.ts"],"sourcesContent":["import { getVersion } from './internal/errors.js'\n\nexport type GlobalErrorType<name extends string = 'Error'> = Error & {\n  name: name\n}\n\n/**\n * Base error class inherited by all errors thrown by ox.\n *\n * @example\n * ```ts\n * import { Errors } from 'ox'\n * throw new Errors.BaseError('An error occurred')\n * ```\n */\nexport class BaseError<\n  cause extends Error | undefined = undefined,\n> extends Error {\n  details: string\n  docs?: string | undefined\n  docsOrigin?: string | undefined\n  docsPath?: string | undefined\n  shortMessage: string\n  showVersion?: boolean | undefined\n  version?: string | undefined\n\n  override cause: cause\n  override name = 'BaseError'\n\n  static defaultStaticOptions = {\n    docsOrigin: 'https://oxlib.sh',\n    showVersion: false,\n    version: `ox@${getVersion()}`,\n  } satisfies BaseError.GlobalOptions\n\n  static setStaticOptions(options: BaseError.GlobalOptions) {\n    BaseError.prototype.docsOrigin = options.docsOrigin\n    BaseError.prototype.showVersion = options.showVersion\n    BaseError.prototype.version = options.version\n  }\n\n  static {\n    BaseError.setStaticOptions(BaseError.defaultStaticOptions)\n  }\n\n  constructor(shortMessage: string, options: BaseError.Options<cause> = {}) {\n    const details = (() => {\n      if (options.cause instanceof BaseError) {\n        if (options.cause.details) return options.cause.details\n        if (options.cause.shortMessage) return options.cause.shortMessage\n      }\n      if (\n        options.cause &&\n        'details' in options.cause &&\n        typeof options.cause.details === 'string'\n      )\n        return options.cause.details\n      if (options.cause?.message) return options.cause.message\n      return options.details!\n    })()\n    const docsPath = (() => {\n      if (options.cause instanceof BaseError)\n        return options.cause.docsPath || options.docsPath\n      return options.docsPath\n    })()\n\n    const docsBaseUrl = options.docsOrigin ?? BaseError.prototype.docsOrigin\n    const docs = `${docsBaseUrl}${docsPath ?? ''}`\n    const showVersion = Boolean(\n      options.version ?? BaseError.prototype.showVersion,\n    )\n    const version = options.version ?? BaseError.prototype.version\n\n    const message = [\n      shortMessage || 'An error occurred.',\n      ...(options.metaMessages ? ['', ...options.metaMessages] : []),\n      ...(details || docsPath || showVersion\n        ? [\n            '',\n            details ? `Details: ${details}` : undefined,\n            docsPath ? `See: ${docs}` : undefined,\n            showVersion ? `Version: ${version}` : undefined,\n          ]\n        : []),\n    ]\n      .filter((x) => typeof x === 'string')\n      .join('\\n')\n\n    super(message, options.cause ? { cause: options.cause } : undefined)\n\n    this.cause = options.cause as any\n    this.details = details\n    this.docs = docs\n    this.docsOrigin = docsBaseUrl\n    this.docsPath = docsPath\n    this.shortMessage = shortMessage\n    this.showVersion = showVersion\n    this.version = version\n  }\n\n  walk(): Error\n  walk(fn: (err: unknown) => boolean): Error | null\n  walk(fn?: any): any {\n    return walk(this, fn)\n  }\n}\n\nexport declare namespace BaseError {\n  type Options<cause extends Error | undefined = Error | undefined> = {\n    /** Cause of the error. */\n    cause?: cause | undefined\n    /** Details of the error. */\n    details?: string | undefined\n    /** Origin of the docs. */\n    docsOrigin?: string | undefined\n    /** Path of the docs. */\n    docsPath?: string | undefined\n    /** Meta messages to add to the error. */\n    metaMessages?: (string | undefined)[] | undefined\n    /** Version of the library to attribute the error to. */\n    version?: string | undefined\n  }\n\n  type GlobalOptions = {\n    /** Origin of the docs. */\n    docsOrigin?: string | undefined\n    /** Whether to show the version of the library in the error message. */\n    showVersion?: boolean | undefined\n    /** Version of the library to attribute the error to. */\n    version?: string | undefined\n  }\n}\n\n/** @internal */\nfunction walk(\n  err: unknown,\n  fn?: ((err: unknown) => boolean) | undefined,\n): unknown {\n  if (fn?.(err)) return err\n  if (err && typeof err === 'object' && 'cause' in err && err.cause)\n    return walk(err.cause, fn)\n  return fn ? null : err\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}