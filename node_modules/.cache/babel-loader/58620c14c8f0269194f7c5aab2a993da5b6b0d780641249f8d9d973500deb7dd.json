{"ast":null,"code":"import { SignatureErc8010 } from 'ox/erc8010';\nimport { hexToBytes } from '../encoding/toBytes.js';\n/**\n * @description Serializes a ERC-8010 flavoured signature into hex format.\n *\n * @param signature ERC-8010 signature in object format.\n * @returns ERC-8010 signature in hex format.\n */\nexport function serializeErc8010Signature(parameters) {\n  const {\n    address,\n    data,\n    signature,\n    to = 'hex'\n  } = parameters;\n  const signature_ = SignatureErc8010.wrap({\n    authorization: {\n      address: parameters.authorization.address,\n      chainId: parameters.authorization.chainId,\n      nonce: BigInt(parameters.authorization.nonce),\n      r: BigInt(parameters.authorization.r),\n      s: BigInt(parameters.authorization.s),\n      yParity: parameters.authorization.yParity\n    },\n    data,\n    signature,\n    to: address\n  });\n  if (to === 'hex') return signature_;\n  return hexToBytes(signature_);\n}","map":{"version":3,"names":["SignatureErc8010","hexToBytes","serializeErc8010Signature","parameters","address","data","signature","to","signature_","wrap","authorization","chainId","nonce","BigInt","r","s","yParity"],"sources":["/Users/mac/Desktop/topl1/frontend/node_modules/viem/utils/signature/serializeErc8010Signature.ts"],"sourcesContent":["import type { Address } from 'abitype'\nimport { SignatureErc8010 } from 'ox/erc8010'\nimport type { ErrorType } from '../../errors/utils.js'\nimport type { SignedAuthorization } from '../../types/authorization.js'\nimport type { ByteArray, Hex } from '../../types/misc.js'\nimport { hexToBytes } from '../encoding/toBytes.js'\n\ntype To = 'bytes' | 'hex'\n\nexport type SerializeErc8010SignatureParameters<to extends To = 'hex'> = {\n  /** Address of the initializer. */\n  address?: Address | undefined\n  /** Authorization signed by the delegatee. */\n  authorization: SignedAuthorization\n  /** Data to initialize the delegation. */\n  data?: Hex | undefined\n  /** The original signature. */\n  signature: Hex\n  to?: to | To | undefined\n}\n\nexport type SerializeErc8010SignatureReturnType<to extends To = 'hex'> =\n  | (to extends 'hex' ? Hex : never)\n  | (to extends 'bytes' ? ByteArray : never)\n\nexport type SerializeErc8010SignatureErrorType = ErrorType\n\n/**\n * @description Serializes a ERC-8010 flavoured signature into hex format.\n *\n * @param signature ERC-8010 signature in object format.\n * @returns ERC-8010 signature in hex format.\n */\nexport function serializeErc8010Signature<to extends To = 'hex'>(\n  parameters: SerializeErc8010SignatureParameters<to>,\n): SerializeErc8010SignatureReturnType<to> {\n  const { address, data, signature, to = 'hex' } = parameters\n  const signature_ = SignatureErc8010.wrap({\n    authorization: {\n      address: parameters.authorization.address,\n      chainId: parameters.authorization.chainId,\n      nonce: BigInt(parameters.authorization.nonce),\n      r: BigInt(parameters.authorization.r),\n      s: BigInt(parameters.authorization.s),\n      yParity: parameters.authorization.yParity!,\n    },\n    data,\n    signature,\n    to: address,\n  })\n  if (to === 'hex') return signature_ as SerializeErc8010SignatureReturnType<to>\n  return hexToBytes(signature_) as SerializeErc8010SignatureReturnType<to>\n}\n"],"mappings":"AACA,SAASA,gBAAgB,QAAQ,YAAY;AAI7C,SAASC,UAAU,QAAQ,wBAAwB;AAsBnD;;;;;;AAMA,OAAM,SAAUC,yBAAyBA,CACvCC,UAAmD;EAEnD,MAAM;IAAEC,OAAO;IAAEC,IAAI;IAAEC,SAAS;IAAEC,EAAE,GAAG;EAAK,CAAE,GAAGJ,UAAU;EAC3D,MAAMK,UAAU,GAAGR,gBAAgB,CAACS,IAAI,CAAC;IACvCC,aAAa,EAAE;MACbN,OAAO,EAAED,UAAU,CAACO,aAAa,CAACN,OAAO;MACzCO,OAAO,EAAER,UAAU,CAACO,aAAa,CAACC,OAAO;MACzCC,KAAK,EAAEC,MAAM,CAACV,UAAU,CAACO,aAAa,CAACE,KAAK,CAAC;MAC7CE,CAAC,EAAED,MAAM,CAACV,UAAU,CAACO,aAAa,CAACI,CAAC,CAAC;MACrCC,CAAC,EAAEF,MAAM,CAACV,UAAU,CAACO,aAAa,CAACK,CAAC,CAAC;MACrCC,OAAO,EAAEb,UAAU,CAACO,aAAa,CAACM;KACnC;IACDX,IAAI;IACJC,SAAS;IACTC,EAAE,EAAEH;GACL,CAAC;EACF,IAAIG,EAAE,KAAK,KAAK,EAAE,OAAOC,UAAqD;EAC9E,OAAOP,UAAU,CAACO,UAAU,CAA4C;AAC1E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}