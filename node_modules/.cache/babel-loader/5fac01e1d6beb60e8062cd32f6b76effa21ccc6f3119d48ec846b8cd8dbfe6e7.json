{"ast":null,"code":"import _objectSpread from \"/Users/mac/Desktop/topl1/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/Users/mac/Desktop/topl1/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"account\", \"blockNumber\", \"blockTag\", \"blobs\", \"data\", \"gas\", \"gasPrice\", \"maxFeePerBlobGas\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"to\", \"value\"];\nimport { parseAccount } from '../../accounts/utils/parseAccount.js';\nimport { numberToHex } from '../../utils/encoding/toHex.js';\nimport { getCallError } from '../../utils/errors/getCallError.js';\nimport { extract } from '../../utils/formatters/extract.js';\nimport { formatTransactionRequest } from '../../utils/formatters/transactionRequest.js';\nimport { assertRequest } from '../../utils/transaction/assertRequest.js';\n/**\n * Creates an EIP-2930 access list.\n *\n * - Docs: https://viem.sh/docs/actions/public/createAccessList\n * - JSON-RPC Methods: `eth_createAccessList`\n *\n * @param client - Client to use\n * @param parameters - {@link CreateAccessListParameters}\n * @returns The access list. {@link CreateAccessListReturnType}\n *\n * @example\n * import { createPublicClient, http } from 'viem'\n * import { mainnet } from 'viem/chains'\n * import { createAccessList } from 'viem/public'\n *\n * const client = createPublicClient({\n *   chain: mainnet,\n *   transport: http(),\n * })\n * const data = await createAccessList(client, {\n *   account: '0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266',\n *   data: '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\n *   to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8',\n * })\n */\nexport async function createAccessList(client, args) {\n  const {\n      account: account_ = client.account,\n      blockNumber,\n      blockTag = 'latest',\n      blobs,\n      data,\n      gas,\n      gasPrice,\n      maxFeePerBlobGas,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      to,\n      value\n    } = args,\n    rest = _objectWithoutProperties(args, _excluded);\n  const account = account_ ? parseAccount(account_) : undefined;\n  try {\n    var _client$chain;\n    assertRequest(args);\n    const blockNumberHex = typeof blockNumber === 'bigint' ? numberToHex(blockNumber) : undefined;\n    const block = blockNumberHex || blockTag;\n    const chainFormat = (_client$chain = client.chain) === null || _client$chain === void 0 || (_client$chain = _client$chain.formatters) === null || _client$chain === void 0 || (_client$chain = _client$chain.transactionRequest) === null || _client$chain === void 0 ? void 0 : _client$chain.format;\n    const format = chainFormat || formatTransactionRequest;\n    const request = format(_objectSpread(_objectSpread({}, extract(rest, {\n      format: chainFormat\n    })), {}, {\n      account,\n      blobs,\n      data,\n      gas,\n      gasPrice,\n      maxFeePerBlobGas,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      to,\n      value\n    }), 'createAccessList');\n    const response = await client.request({\n      method: 'eth_createAccessList',\n      params: [request, block]\n    });\n    return {\n      accessList: response.accessList,\n      gasUsed: BigInt(response.gasUsed)\n    };\n  } catch (err) {\n    throw getCallError(err, _objectSpread(_objectSpread({}, args), {}, {\n      account,\n      chain: client.chain\n    }));\n  }\n}","map":{"version":3,"names":["parseAccount","numberToHex","getCallError","extract","formatTransactionRequest","assertRequest","createAccessList","client","args","account","account_","blockNumber","blockTag","blobs","data","gas","gasPrice","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","to","value","rest","_objectWithoutProperties","_excluded","undefined","_client$chain","blockNumberHex","block","chainFormat","chain","formatters","transactionRequest","format","request","_objectSpread","response","method","params","accessList","gasUsed","BigInt","err"],"sources":["/Users/mac/Desktop/topl1/frontend/node_modules/viem/actions/public/createAccessList.ts"],"sourcesContent":["import type { Address } from 'abitype'\n\nimport type { Account } from '../../accounts/types.js'\nimport {\n  type ParseAccountErrorType,\n  parseAccount,\n} from '../../accounts/utils/parseAccount.js'\nimport type { Client } from '../../clients/createClient.js'\nimport type { Transport } from '../../clients/transports/createTransport.js'\nimport type { ErrorType } from '../../errors/utils.js'\nimport type { BlockTag } from '../../types/block.js'\nimport type { Chain } from '../../types/chain.js'\nimport type { RpcTransactionRequest } from '../../types/rpc.js'\nimport type { AccessList, TransactionRequest } from '../../types/transaction.js'\nimport type { ExactPartial, Prettify, UnionOmit } from '../../types/utils.js'\nimport type { RequestErrorType } from '../../utils/buildRequest.js'\nimport {\n  type NumberToHexErrorType,\n  numberToHex,\n} from '../../utils/encoding/toHex.js'\nimport {\n  type GetCallErrorReturnType,\n  getCallError,\n} from '../../utils/errors/getCallError.js'\nimport { extract } from '../../utils/formatters/extract.js'\nimport {\n  type FormatTransactionRequestErrorType,\n  type FormattedTransactionRequest,\n  formatTransactionRequest,\n} from '../../utils/formatters/transactionRequest.js'\nimport type {\n  AssertRequestErrorType,\n  AssertRequestParameters,\n} from '../../utils/transaction/assertRequest.js'\nimport { assertRequest } from '../../utils/transaction/assertRequest.js'\n\nexport type CreateAccessListParameters<\n  chain extends Chain | undefined = Chain | undefined,\n> = UnionOmit<\n  FormattedTransactionRequest<chain>,\n  'from' | 'nonce' | 'accessList'\n> & {\n  /** Account attached to the call (msg.sender). */\n  account?: Account | Address | undefined\n} & (\n    | {\n        /** The balance of the account at a block number. */\n        blockNumber?: bigint | undefined\n        blockTag?: undefined\n      }\n    | {\n        blockNumber?: undefined\n        /**\n         * The balance of the account at a block tag.\n         * @default 'latest'\n         */\n        blockTag?: BlockTag | undefined\n      }\n  )\n\nexport type CreateAccessListReturnType = Prettify<{\n  accessList: AccessList\n  gasUsed: bigint\n}>\n\nexport type CreateAccessListErrorType = GetCallErrorReturnType<\n  | ParseAccountErrorType\n  | AssertRequestErrorType\n  | NumberToHexErrorType\n  | FormatTransactionRequestErrorType\n  | RequestErrorType\n>\n\n/**\n * Creates an EIP-2930 access list.\n *\n * - Docs: https://viem.sh/docs/actions/public/createAccessList\n * - JSON-RPC Methods: `eth_createAccessList`\n *\n * @param client - Client to use\n * @param parameters - {@link CreateAccessListParameters}\n * @returns The access list. {@link CreateAccessListReturnType}\n *\n * @example\n * import { createPublicClient, http } from 'viem'\n * import { mainnet } from 'viem/chains'\n * import { createAccessList } from 'viem/public'\n *\n * const client = createPublicClient({\n *   chain: mainnet,\n *   transport: http(),\n * })\n * const data = await createAccessList(client, {\n *   account: '0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266',\n *   data: '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\n *   to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8',\n * })\n */\nexport async function createAccessList<chain extends Chain | undefined>(\n  client: Client<Transport, chain>,\n  args: CreateAccessListParameters<chain>,\n): Promise<CreateAccessListReturnType> {\n  const {\n    account: account_ = client.account,\n    blockNumber,\n    blockTag = 'latest',\n    blobs,\n    data,\n    gas,\n    gasPrice,\n    maxFeePerBlobGas,\n    maxFeePerGas,\n    maxPriorityFeePerGas,\n    to,\n    value,\n    ...rest\n  } = args\n  const account = account_ ? parseAccount(account_) : undefined\n\n  try {\n    assertRequest(args as AssertRequestParameters)\n\n    const blockNumberHex =\n      typeof blockNumber === 'bigint' ? numberToHex(blockNumber) : undefined\n    const block = blockNumberHex || blockTag\n\n    const chainFormat = client.chain?.formatters?.transactionRequest?.format\n    const format = chainFormat || formatTransactionRequest\n\n    const request = format(\n      {\n        // Pick out extra data that might exist on the chain's transaction request type.\n        ...extract(rest, { format: chainFormat }),\n        account,\n        blobs,\n        data,\n        gas,\n        gasPrice,\n        maxFeePerBlobGas,\n        maxFeePerGas,\n        maxPriorityFeePerGas,\n        to,\n        value,\n      } as TransactionRequest,\n      'createAccessList',\n    ) as TransactionRequest\n\n    const response = await client.request({\n      method: 'eth_createAccessList',\n      params: [request as ExactPartial<RpcTransactionRequest>, block],\n    })\n    return {\n      accessList: response.accessList,\n      gasUsed: BigInt(response.gasUsed),\n    }\n  } catch (err) {\n    throw getCallError(err as ErrorType, {\n      ...args,\n      account,\n      chain: client.chain,\n    })\n  }\n}\n"],"mappings":";;;AAGA,SAEEA,YAAY,QACP,sCAAsC;AAU7C,SAEEC,WAAW,QACN,+BAA+B;AACtC,SAEEC,YAAY,QACP,oCAAoC;AAC3C,SAASC,OAAO,QAAQ,mCAAmC;AAC3D,SAGEC,wBAAwB,QACnB,8CAA8C;AAKrD,SAASC,aAAa,QAAQ,0CAA0C;AAuCxE;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAO,eAAeC,gBAAgBA,CACpCC,MAAgC,EAChCC,IAAuC;EAEvC,MAAM;MACJC,OAAO,EAAEC,QAAQ,GAAGH,MAAM,CAACE,OAAO;MAClCE,WAAW;MACXC,QAAQ,GAAG,QAAQ;MACnBC,KAAK;MACLC,IAAI;MACJC,GAAG;MACHC,QAAQ;MACRC,gBAAgB;MAChBC,YAAY;MACZC,oBAAoB;MACpBC,EAAE;MACFC;IACO,CACR,GAAGb,IAAI;IADHc,IAAI,GAAAC,wBAAA,CACLf,IAAI,EAAAgB,SAAA;EACR,MAAMf,OAAO,GAAGC,QAAQ,GAAGV,YAAY,CAACU,QAAQ,CAAC,GAAGe,SAAS;EAE7D,IAAI;IAAA,IAAAC,aAAA;IACFrB,aAAa,CAACG,IAA+B,CAAC;IAE9C,MAAMmB,cAAc,GAClB,OAAOhB,WAAW,KAAK,QAAQ,GAAGV,WAAW,CAACU,WAAW,CAAC,GAAGc,SAAS;IACxE,MAAMG,KAAK,GAAGD,cAAc,IAAIf,QAAQ;IAExC,MAAMiB,WAAW,IAAAH,aAAA,GAAGnB,MAAM,CAACuB,KAAK,cAAAJ,aAAA,gBAAAA,aAAA,GAAZA,aAAA,CAAcK,UAAU,cAAAL,aAAA,gBAAAA,aAAA,GAAxBA,aAAA,CAA0BM,kBAAkB,cAAAN,aAAA,uBAA5CA,aAAA,CAA8CO,MAAM;IACxE,MAAMA,MAAM,GAAGJ,WAAW,IAAIzB,wBAAwB;IAEtD,MAAM8B,OAAO,GAAGD,MAAM,CAAAE,aAAA,CAAAA,aAAA,KAGfhC,OAAO,CAACmB,IAAI,EAAE;MAAEW,MAAM,EAAEJ;IAAW,CAAE,CAAC;MACzCpB,OAAO;MACPI,KAAK;MACLC,IAAI;MACJC,GAAG;MACHC,QAAQ;MACRC,gBAAgB;MAChBC,YAAY;MACZC,oBAAoB;MACpBC,EAAE;MACFC;IAAK,IAEP,kBAAkB,CACG;IAEvB,MAAMe,QAAQ,GAAG,MAAM7B,MAAM,CAAC2B,OAAO,CAAC;MACpCG,MAAM,EAAE,sBAAsB;MAC9BC,MAAM,EAAE,CAACJ,OAA8C,EAAEN,KAAK;KAC/D,CAAC;IACF,OAAO;MACLW,UAAU,EAAEH,QAAQ,CAACG,UAAU;MAC/BC,OAAO,EAAEC,MAAM,CAACL,QAAQ,CAACI,OAAO;KACjC;EACH,CAAC,CAAC,OAAOE,GAAG,EAAE;IACZ,MAAMxC,YAAY,CAACwC,GAAgB,EAAAP,aAAA,CAAAA,aAAA,KAC9B3B,IAAI;MACPC,OAAO;MACPqB,KAAK,EAAEvB,MAAM,CAACuB;IAAK,EACpB,CAAC;EACJ;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}